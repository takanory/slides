## PyPro3執筆の光と闇

2018 Jul 5 / BPStyle #94

Takanori Suzuki

---

## Pythonプロフェッショナルプログラミング 第3版

![Pythonプロフェッショナルプログラミング 第3版](assets/images/pypro3.jpg)

+++

### 書誌情報

* 著者: 株式会社ビープラウド
* 価格: 本体2800円(税別)
* 発売日: 2018年6月12日
* 判型: B5変
* ページ数: 488
* http://www.shuwasystem.co.jp/products/7980html/5382.html

+++

### Amazonでベストセラー!!!(開発技法)

![Amazonでベストセラー!!!](assets/images/pypro3-best-seller.png)

---

## PyPro3 の歴史

+++

### 3年毎にバージョンアップ

* [第1版](http://www.shuwasystem.co.jp/products/7980html/3294.html): 2012年3月27日、464ページ
* [第2版](http://www.shuwasystem.co.jp/products/7980html/4315.html): 2015年2月27日、472ページ
* [第3版](http://www.shuwasystem.co.jp/products/7980html/5382.html): 2018年6月12日、488ページ
* お値段据え置き、ページ増量

+++

### 著者の変遷(第1版): 13名

清水川貴之、岡野真也、池田洋介、畠弥峰、drillbits、cactusman、東健太、tell-k、今川館、ナツ、文殊堂、aita、冨田洋祐

+++

### 著者の変遷(第2版): 11名

* Out: 池田洋介、畠弥峰、今川館、ナツ、aita
* In: aodag、鈴木たかのり、清原弘貴

+++

### 著者の変遷(第3版): 11名

* Out: 岡野真也、drillbits、cactusman、東健太、文殊堂、冨田洋祐、aodag
* In: James Van Dyne、的場達矢、吉田花春、新木雅也、altnight、川村愛美、石上晋

+++

### 第3版の著者: 11名

鈴木たかのり、清水川貴之、tell-k、清原弘貴、James Van Dyne、的場達矢、吉田花春、新木雅也、altnight、川村愛美、石上晋

+++

### すべてを知るもの

清水川貴之、tell-k

---

## PyPro3の内容

+++

### どういう本?

* BeProudでは、Pythonを使って多くの開発を経験してきました。その実践の中で培ってきたノウハウを伝えるために私達は本書を書きました。
* 新しい会社のメンバーに早く仕事に慣れてもらいたいという願いもあり、BeProudでの仕事に必要な知識をこの本に詰め込みました。

(まえがきより)

+++

### どういう本?

* BeProudで仕事でやっていることを書く
* 聞かれたときに「それPyPro3にあるよ」って言いたい

+++

### 目次

* Part1 Pythonで開発しよう
* Part2 チーム開発のサイクル
* Part3 サービス公開
* Part4 実践プロフェッショナル開発

+++

### Part1 Pythonで開発しよう

* 01 Pythonをはじめよう
* 02 Webアプリケーションを作る
* 03 Pythonプロジェクトの構成とパッケージ作成

+++

### Part2 チーム開発のサイクル

* 04 チーム開発のためのツール
* 05 課題管理とレビュー
* 06 Git/GitHubによるソースコード管理(**New!**)
* 07 ドキュメントの基盤を整える
* 08 モジュール分割設計と単体テスト
* 09 Pythonパッケージの利用と開発への適用
* 10 CircleCIで継続的インテグレーション(**New!**)

+++

### Part3 サービス公開

* 11 環境構築とデプロイの自動化
* 12 Webアプリケーションのパフォーマンス改善

+++

### Part4 実践プロフェッショナル開発

* 13 テストを味方にする
* 14 Djangoで実務のWebアプリ開発
* 15 プログラマーのための機械学習(**New!**)

---

## スケジュール

+++

### 当初スケジュール

* 2017年9月22日(金): 秀和システムに執筆を打診→Go!
* 2017年10月2日(月): 社内キックオフ
* 2017年11月30日(木): 改訂部分は脱稿→レビュー
* 2018年1月31日(水): 書き下ろしを脱稿(ひととおり書ききる)
* 2018年2月28日(水): レビュー完了
* 2018年4月25日(水): 印刷入稿
* 2018年5月17日(木): 店頭発売

+++

### 脱稿の時期がずれる

* 2017年11月30日(木): 改訂部分は脱稿→レビュー(当初予定)
* 2018年1月31日(水): 書き下ろしを脱稿(当初予定)
* 2018年3月9日(金): 脱稿(8, manylinux, 10, 15以外)
* 2018年3月16日(金): 08章脱稿、manylinux、10章社内レビュー完了、15章社内レビュー開始、
* 2018年3月23日(金): 09, 10章脱稿
* 2018年3月30日(金): 15章社内レビュー完了

+++

### 初校、再校を並行で実施

* 「第1章～第14章」と「第15章」で並行スケジュール
* 2018年5月16日(水): 念校アップ開始
* 2018年5月25日(金): 印刷入稿
* 2018年5月29日(火): 校了＝印刷開始
* 2018年6月12日(火): 店頭発売

+++

### なんとか一ヶ月弱遅れで発売

* 2018年5月17日(木): 店頭発売(当初予定)
* 2018年6月12日(火): 店頭発売(実際)

---

## 工夫したこと

* PyPro3をチームで執筆する上で工夫したこと

+++

### 想定していた課題

* 初めて執筆者、レビュワーが流れに乗れない
* 執筆のモチベーション低下
* ストーリー作りに難航
* 日本語の品質問題
* レビュー対象の偏り

+++

### 工夫1: 著者集め、担当決め

* 書きたい人に書きたい章を書いてもらう
* Slackの @channel メンションで執筆者募集
* 各章に4段階で投票

  * まかせろ / 書きたい / やります / パス

* バランスを見て執筆者を決定

+++

### 工夫1: 著者集め、担当決め

![PyPro3書きたいところフォーム](20180705bpstyle/images/form.png)

+++

### 工夫2: メイン、サブ担当

* 各章に2名ずつ執筆担当者を設定
* 一人より二人の方がいいものができそう
* 役割分担は当事者同士に任せる

  * 執筆者/レビュワー
  * 執筆を分担
  * 相談相手等

* 最終的な責任者はメイン担当

+++

### 工夫3: 早めにストーリー確認

* 書き下ろしの章のトーリーを早めに確認
* 何を伝えたいのかという観点を先に共有
* アウトライン設計してから執筆することの大事さ

+++

### 工夫4: 執筆ハッカソン

* 毎週集まって執筆する時間を作る
  * 毎週水曜15:30〜
  * リモート可
* 時間を無理やり確保する
* ハッカソンに参加しないと執筆が進まない感じ
* 他の執筆者にゆるく相談できる場
* やること宣言→やったこと報告

+++

### 工夫5: レビュー説明会

* レビュワーを集めて説明を実施
  * [レビュー説明会](https://project.beproud.jp/redmine/projects/pypro3/wiki/20180202_05_review)
* レビューの進め方を説明
* 気をつけることを共有
  * 取り込みやすい指摘、脳内補完しない
* レビュー観点の共有
  * 技術的正確さ、誤字脱字、わかりにくい

+++

### 工夫5: レビュー説明会

![レビュー説明会の議事録](20180705bpstyle/images/review_mtg.png)

+++

### 工夫6: レビュー担当割

* レビューはだいたい力尽きる
* 各章をまんべんなくレビューしてもらう
* 誰がどこをレビューしたかをシートで管理
  * [PyPro3 レビュー担当割](https://docs.google.com/spreadsheets/d/1WN_OjHo8vubf4-ZwqTBv-Jk44XOhh8Y4IgBBvwW1zZc/edit#gid=0)

+++

### 工夫6: レビュー担当割

![レビュー担当割](20180705bpstyle/images/review_signup.png)

+++

### 工夫7: 最初からDropboxでレビュー

* SphinxのHTMLだと指摘しにくい
* SphinxのPDFでDropboxレビューを実施
* Sphinx++ LaTeX++

![Dropboxでレビュー](20180705bpstyle/images/dropbox_review.png)

+++

### 工夫8: モブライティング

* 15章のストーリーが二転三転
* 関係者で集まって一緒にアウトラインを作成
* モブプログラミングの執筆バージョン

+++

### それぞれ一定の効果があったかな?

* 工夫1: 著者集め、担当決め
* 工夫2: メイン、サブ担当(**Good!**)
* 工夫3: 早めにストーリー確認
* 工夫4: 執筆ハッカソン(**Great!!**)
* 工夫5: レビュー説明会(**Good!**)
* 工夫6: レビュー担当割
* 工夫7: 最初からDropboxでレビュー
* 工夫8: モブライティング(**Good!**)

---

## 著者の感想

+++

### 鈴木たかのり

* それぞれ執筆者ができる範囲で頑張ってやってくれてよかった
* 執筆を進める上での実験がいろいろできたので、個人的に収穫があった

+++

### 清水川貴之

* Pythonパッケージングについて具体的な手法を含めて書かれた本は少ないため、最新事情にあわせてアップデートできてよかった

+++

### tell-k

* 知識のアップデートになってよかった。みんな本当に頑張ってて偉いなと思いました。

+++

### 清原弘貴

* 単なる知識でない知見を伝える節を、新しく書けて良かった。
* 自分なりに「こういう知見」が役に立ちそうだっていう手応えを得られて、良い実験になったなと思う。

+++

### James Van Dyne

* 読者がどんなアプリケーションを作れば嬉しいか、それでPythonを使ってどのようにわかりやすく説明すればいいかのを考えて、楽しかったです。

+++

### 的場達矢(1/2)

* 今回、主にPyPro2の時は自分が読者だった5章（チケット管理とレビュー）と11章（Ansible）の改訂に関わった。
* PyPro2を読んで自分が、分かり難かった点や疑問に思っていた点を周りの人に聞きながら追記し、よりわかりやすくすることができたと思う。
* 執筆を通して章のテーマについて、自分なりに何が大切なのかを整理することができてよかった。

+++

### 的場達矢(2/2)

* あと、副担当として、10章（Circle CI）の執筆に関わった。僕は、わかってない人の立場がわかりやすくなるように貢献できたと思う。"

+++

### 吉田花春(1/2)

* 執筆陣やレビュアーのみなさんにしっかり原稿を見ていただいたおかげで最後までやり抜くことができました。感謝しかないです。案件のプロジェクトメンバーにも支えられて大変ありがたかったです。
* GitとGitHubというどの章も関係しそうな箇所だったので、全体の整合性を取るために見る範囲が自然と広がっていったのが大変だった。しかしおかげで他の章もしっかり読みこんで、良いものにできたと思う。

+++

### 吉田花春(2/2)

* 「聞いたことあるけど実際に使うときにどうしたらいいかわからない」みたいなところを自分なりの視点でかけたのはよかった。

+++

### 新木雅也

* 8章をメインで担当。8章は元々良く書けた章でしたが、できすぎる人が書いた章だったため、凡人だと分かりづらい記述があり、それを凡人でもわかりやすく追記できたのが良かった
* 15章は機械学習章ということで、主にレビューと環境構築節を担当した。メイン著者(susumuis)が内容・構成で悩んでる時に必要に応じて相談に乗ることができ、最後は良い章になったので良かったと思う

+++ 

### altnight

* 執筆難しい。詳細まで行き届いた文言を書くのは難しい。その分自分の理解も深まったし、世の執筆されている本の偉大さに納得した
* 至らないところはあれど、基本的な考え方は継承しつつ新技術ベースで執筆できたとおもう。よかった。

+++

### 川村愛美

* 2版の時は見送ったんですが、数年たって見返すと案外書き直したいことがたくさんあって、参加して良かったと思いました。
* レビュアーの皆様がすごく丁寧に読んで指摘をたくさんくれたのが、うれしかったです。
* mtb_betaさんと kashew_nutsさんのお二人には、githubの先生になってもらって大変助かりました！

+++

### 石上晋

* 初めての執筆でどうしたらよいか分からないことがあったけど、レビューしてくれた皆さんや、最後の文章の調整に協力してくれた方々のおかげで無事に終わらせられてよかった。
* 執筆することによって「機械学習」の理解がより深くなってよかった。

---

## 執筆、レビューお疲れ様でした

## ありがとうございました

+++

『闇があるから光がある。そして闇から出てきた人こそ、本当に光のありがたさがわかるんだ。』(小林多喜二)

+++

「[PyPro3執筆の光と闇(ダークサイド)](https://docs.google.com/presentation/d/1uflZd2bRb4cir3hHBqfn-dWrp6XDEaxvTp7Dd0_rFj8/present?token=AC4w5Vi0h-4fcLChuMax6KMSCCDC8lW3xA:1530584961121&includes_info_params=1#slide=id.p)」へ続く

(社外非公開)