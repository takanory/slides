```{eval-rst}
:og:image: _images/20240307bpstyle.png
:og:image:alt: Amazon Pollyã§å•é¡Œæ–‡ã‚’èª­ã¿ä¸Šã’

.. |cover| image:: images/20240307bpstyle.png
```

# **Amazon Polly** ã§<br />å•é¡Œæ–‡ã‚’èª­ã¿ä¸Šã’

Takanori Suzuki

BPStyle #158 / 2024 Mar 7

## èƒŒæ™¯

* æŸæ¡ˆä»¶ã§å­¦ç¿’æ•™æã®é›»å­åŒ–ã‚’ã‚„ã£ã¦ã„ã‚‹
* **åˆç†çš„é…æ…®** ã®ä¸€ç’°ã¨ã—ã¦ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’ã‚’å®Ÿç¾ã—ãŸã„
* å…¨ç›²ã®äººå‘ã‘ã§ã¯ãªãã€**è´è¦šå„ªä½** ã®äººå‘ã‘

### åˆç†çš„é…æ…®

> åˆç†çš„é…æ…®ã¨ã¯ã€éšœå®³è€…ã‹ã‚‰ä½•ã‚‰ã‹ã®åŠ©ã‘ã‚’æ±‚ã‚ã‚‹æ„æ€ã®è¡¨æ˜ãŒã‚ã£ãŸå ´åˆã€éåº¦ãªè² æ‹…ã«ãªã‚Šéããªã„ç¯„å›²ã§ã€ç¤¾ä¼šçš„éšœå£ã‚’å–ã‚Šé™¤ããŸã‚ã«å¿…è¦ãªä¾¿å®œã®ã“ã¨ã§ã‚ã‚‹ã€‚ 

* [åˆç†çš„é…æ…® - Wikipedia](https://ja.wikipedia.org/wiki/%E5%90%88%E7%90%86%E7%9A%84%E9%85%8D%E6%85%AE)

### è´è¦šå„ªä½

> å­ã©ã‚‚ãŸã¡ã®æƒ…å ±ã®å–ã‚Šå…¥ã‚Œæ–¹ã‚’ä¸‹è¨˜ã®3ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã—ã€â€œçŸ¥è¦šã®å„ªä½æ€§â€ã¨ã„ã†è€ƒãˆæ–¹ãŒä¸–ç•Œã«åºƒãŒã£ã¦ã„ã£ãŸã“ã¨ã«å§‹ã¾ã‚Šã¾ã™ã€‚
>
> è¦–è¦šå„ªå…ˆå‹ãƒ»è´è¦šå„ªå…ˆå‹ãƒ»é‹å‹•æ„Ÿè¦š/è§¦è¦šå„ªå…ˆå‹

* [è´è¦šå„ªä½ã‚¿ã‚¤ãƒ—ã¨ã¯ï¼Ÿè¦‹ã‚‹ã‚ˆã‚Šèãã»ã†ãŒç†è§£ã—ã‚„ã™ã„å­ã®å‹‰å¼·æ–¹æ³•ã‚’å°‚é–€å®¶ãŒè§£èª¬](https://soctama.jp/column/67272)

### ã‚„ã‚ŠãŸã„ã“ã¨

* å•é¡Œæ–‡ç­‰ã‚’èª­ã¿ä¸Šã’ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹
  * è´è¦šå„ªä½ã®ç”Ÿå¾’ãŒç†è§£ã—ã‚„ã™ãã™ã‚‹
* å®Œå…¨ã«èª­ã¿ä¸Šã’ã‚‰ã‚Œãªãã¦ã‚‚ã‚ã‚‹ç¨‹åº¦ã—ã‚‡ã†ãŒãªã„

### ã¡ãªã¿ã«å…¨ç›²ã®å ´åˆ

* OSã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½ã‚’ä½¿ã†
* PCä¸Šã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹
* Webå´ã¯ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã«å¯¾å¿œã™ã‚‹
* å‚è€ƒ: [ã‚¦ã‚§ãƒ–ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å°å…¥ã‚¬ã‚¤ãƒ‰ãƒ–ãƒƒã‚¯ï½œãƒ‡ã‚¸ã‚¿ãƒ«åº](https://www.digital.go.jp/resources/introduction-to-web-accessibility-guidebook/)
* â†’ä»Šå›ã¯å¯¾è±¡å¤–

## Amaozon Polly

### Amaozon Polly

* [Amazon Pollyï¼ˆæ·±å±¤å­¦ç¿’ã‚’ä½¿ç”¨ã—ãŸãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’ã‚µãƒ¼ãƒ“ã‚¹ï¼‰| AWS](https://aws.amazon.com/jp/polly/)
* **æ•°åã®è¨€èª** ã§é«˜å“è³ªã§è‡ªç„¶ãªäººé–“ã®å£°ã‚’å±•é–‹
* 12ãƒ¶æœˆé–“ã€ æ¯æœˆ **500ä¸‡æ–‡å­—ãŒç„¡æ–™**
* ã‚¯ãƒ©ã‚¦ãƒ‰å‹ã‚³ãƒ¼ãƒ«ã‚»ãƒ³ã‚¿ãƒ¼ã®Amazon Connectã§ã‚‚ä½¿ãˆã‚‹

### Amazon Pollyã®ãƒ‡ãƒ¢

* [ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿ä¸Šã’æ©Ÿèƒ½ | Amazon Polly | ap-northeast-1](https://ap-northeast-1.console.aws.amazon.com/polly/home/SynthesizeSpeech)
* å¤šåˆ†ytakashimaã•ã‚“ã¯å¹³æˆç‹¸åˆæˆ¦ã½ã‚“ã½ã“ãŒå¥½ãï¼ˆé©å½“ï¼‰([nibu.mp3](nibu.mp3))
* Maybe ytakashima-san likes Heisei Raccoon War Ponpoko (appropriate) ([nibu-en.mp3](nibu-en.mp3))

### Pythonã‹ã‚‰Amazon Pollyã‚’å®Ÿè¡Œ

```bash
(env) $ pip install boto3
(env) $ export AWS_ACCESS_KEY_ID=AKI...
(env) $ export AWS_SECRET_ACCESS_KEY=ZoWb...
(env) $ export AWS_DEFAULT_REGION=ap-northeast-1
```

* Boto3ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
* APIã‚’ä½¿ã†ãŸã‚ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š

```{revealjs-break}
```

```{literalinclude} code/polly.py
```

* [Polly - Boto3 1.34.56 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/polly.html)
* [AWSã§AIã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã£ã¦ã¿ã‚‹ã€œç¬¬3å›pollyç·¨ã€œ #Python - Qiita](https://qiita.com/AInosukey/items/cb86c1012d40747b9dda)

```{revealjs-break}
```

* mp3ãƒ•ã‚¡ã‚¤ãƒ«ãŒã§ããŸï¼ï¼ ğŸ‰
* [masashinji.mp3](masashinji.mp3)

## Amazon Pollyã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### è¨€èªã®å¤‰æ›´

* è¨€èªã¨éŸ³å£°ã¯`VoiceId`å¼•æ•°ã‚’å¤‰æ›´ã™ã‚‹
* [Amazon Polly ã®éŸ³å£° - Amazon Polly](https://docs.aws.amazon.com/ja_jp/polly/latest/dg/voicelist.html)
* æ—¥æœ¬èª: Mizuki, Takumi, Kazuha, Tomoko
* è‹±èª: Ivy, Salli, Joey, Justin...ãªã©

```{literalinclude} code/polly2.py
:lines: 7-8
```

* [hajimo.mp3](hajimo.mp3)
